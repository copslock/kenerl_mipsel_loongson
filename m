Received: with ECARTIS (v1.0.0; list linux-mips); Wed, 20 Oct 2004 17:16:39 +0100 (BST)
Received: from mx1.redhat.com ([IPv6:::ffff:66.187.233.31]:1154 "EHLO
	mx1.redhat.com") by linux-mips.org with ESMTP id <S8225236AbUJTQQe>;
	Wed, 20 Oct 2004 17:16:34 +0100
Received: from int-mx1.corp.redhat.com (int-mx1.corp.redhat.com [172.16.52.254])
	by mx1.redhat.com (8.12.11/8.12.10) with ESMTP id i9KGGRCL011435;
	Wed, 20 Oct 2004 12:16:27 -0400
Received: from warthog.cambridge.redhat.com (warthog.cambridge.redhat.com [172.16.18.73])
	by int-mx1.corp.redhat.com (8.11.6/8.11.6) with ESMTP id i9KGGJr30748;
	Wed, 20 Oct 2004 12:16:19 -0400
Received: from warthog.cambridge.redhat.com (localhost.localdomain [127.0.0.1])
	by warthog.cambridge.redhat.com (8.12.11/8.12.8) with ESMTP id i9KGGIX0007785;
	Wed, 20 Oct 2004 17:16:18 +0100
Received: from redhat.com (dhowells@localhost)
	by warthog.cambridge.redhat.com (8.12.11/8.12.11/Submit) with ESMTP id i9KGGHqw007780;
	Wed, 20 Oct 2004 17:16:17 +0100
X-Authentication-Warning: warthog.cambridge.redhat.com: dhowells owned process doing -bs
From: David Howells <dhowells@redhat.com>
In-Reply-To: <20041020154922.GV16153@parcelfarce.linux.theplanet.co.uk> 
References: <20041020154922.GV16153@parcelfarce.linux.theplanet.co.uk>  <3506.1098283455@redhat.com> 
To: Matthew Wilcox <matthew@wil.cx>
Cc: torvalds@osdl.org, akpm@osdl.org, discuss@x86-64.org,
	linux-m68k@vger.kernel.org, linux-ia64@vger.kernel.org,
	linux-mips@linux-mips.org, linux-kernel@vger.kernel.org,
	linux-sh@m17n.org, linux-390@vm.marist.edu,
	sparclinux@vger.kernel.org, linuxppc64-dev@ozlabs.org,
	linux-arm-kernel@lists.arm.linux.org.uk,
	parisc-linux@parisc-linux.org
Subject: Re: [parisc-linux] [PATCH] Add key management syscalls to non-i386 archs 
User-Agent: EMH/1.14.1 SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Date: Wed, 20 Oct 2004 17:16:17 +0100
Message-ID: <7779.1098288977@redhat.com>
Return-Path: <dhowells@redhat.com>
X-Envelope-To: <"|/home/ecartis/ecartis -s linux-mips"> (uid 0)
X-Orcpt: rfc822;linux-mips@linux-mips.org
Original-Recipient: rfc822;linux-mips@linux-mips.org
X-archive-position: 6125
X-ecartis-version: Ecartis v1.0.0
Sender: linux-mips-bounce@linux-mips.org
Errors-to: linux-mips-bounce@linux-mips.org
X-original-sender: dhowells@redhat.com
Precedence: bulk
X-list: linux-mips


> Um, no.  Should be ENTRY_COMP() if there's compat syscalls.

Not all archs (of which PA-Risc is an example) seem to require the same fixups
on the same syscalls. In some instances, the upper half of the register is
implicitly zero on 32-bit syscall entry to a 64-bit kernel. In such cases,
none of my syscalls require fixing up, assuming the pointers are automatically
correct.

> And those particular syscall numbers have already been assigned (blame Linus
> for dropping the PA-RISC patch on the floor instead of including it in
> 2.6.9).

There's not a lot I can do about that, except wave a patch under Linus's nose
and see who complains. Can you allocate three syscall numbers for me for
parisc?

David
