Received: with ECARTIS (v1.0.0; list linux-mips); Tue, 31 Aug 2004 16:12:37 +0100 (BST)
Received: from mx1.redhat.com ([IPv6:::ffff:66.187.233.31]:62176 "EHLO
	mx1.redhat.com") by linux-mips.org with ESMTP id <S8224948AbUHaPMc>;
	Tue, 31 Aug 2004 16:12:32 +0100
Received: from int-mx1.corp.redhat.com (int-mx1.corp.redhat.com [172.16.52.254])
	by mx1.redhat.com (8.12.10/8.12.10) with ESMTP id i7VFCVS0024717;
	Tue, 31 Aug 2004 11:12:31 -0400
Received: from warthog.cambridge.redhat.com (warthog.cambridge.redhat.com [172.16.18.73])
	by int-mx1.corp.redhat.com (8.11.6/8.11.6) with ESMTP id i7VFCJ325414;
	Tue, 31 Aug 2004 11:12:19 -0400
Received: from warthog.cambridge.redhat.com (localhost.localdomain [127.0.0.1])
	by warthog.cambridge.redhat.com (8.12.11/8.12.8) with ESMTP id i7VFCIlm013075;
	Tue, 31 Aug 2004 16:12:18 +0100
Received: from redhat.com (dhowells@localhost)
	by warthog.cambridge.redhat.com (8.12.11/8.12.11/Submit) with ESMTP id i7VFCECt013072;
	Tue, 31 Aug 2004 16:12:14 +0100
X-Authentication-Warning: warthog.cambridge.redhat.com: dhowells owned process doing -bs
From: David Howells <dhowells@redhat.com>
In-Reply-To: <20040830232445.0b5aad79.akpm@osdl.org> 
References: <20040830232445.0b5aad79.akpm@osdl.org> 
To: Andrew Morton <akpm@osdl.org>, rth@twiddle.net,
	linux-mips@linux-mips.org, parisc-linux@parisc-linux.org,
	sparclinux@vger.kernel.org
Cc: linux-kernel@vger.kernel.org
Subject: [PATCH] New error codes for Alpha, MIPS, PA-RISC, Sparc & Sparc64
User-Agent: EMH/1.14.1 SEMI/1.14.5 (Awara-Onsen) FLIM/1.14.5 (Demachiyanagi) APEL/10.6 Emacs/21.3 (i386-redhat-linux-gnu) MULE/5.0 (SAKAKI)
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Date: Tue, 31 Aug 2004 16:12:14 +0100
Message-ID: <13071.1093965134@redhat.com>
Return-Path: <dhowells@redhat.com>
X-Envelope-To: <"|/home/ecartis/ecartis -s linux-mips"> (uid 0)
X-Orcpt: rfc822;linux-mips@linux-mips.org
Original-Recipient: rfc822;linux-mips@linux-mips.org
X-archive-position: 5750
X-ecartis-version: Ecartis v1.0.0
Sender: linux-mips-bounce@linux-mips.org
Errors-to: linux-mips-bounce@linux-mips.org
X-original-sender: dhowells@redhat.com
Precedence: bulk
X-list: linux-mips


The attached patch adds the new error codes I added for key-related errors to
those archs that don't make use of <asm-generic/errno.h>, including Alpha,
MIPS, PA-RISC, Sparc and Sparc64. This is required to compile with CONFIG_KEYS
on those platforms.

Signed-Off-By: David Howells <dhowells@redhat.com>
---

warthog>diffstat keys-errors-2681mm4.diff 
 asm-alpha/errno.h   |    4 ++++
 asm-mips/errno.h    |    4 ++++
 asm-parisc/errno.h  |    4 ++++
 asm-sparc/errno.h   |    4 ++++
 asm-sparc64/errno.h |    4 ++++
 5 files changed, 20 insertions(+)

diff -uNrp linux-2.6.8.1-mm4-keys/include/asm-alpha/errno.h linux-2.6.8.1-mm4-keys-read/include/asm-alpha/errno.h
--- linux-2.6.8.1-mm4-keys/include/asm-alpha/errno.h	2004-06-18 13:42:21.000000000 +0100
+++ linux-2.6.8.1-mm4-keys-read/include/asm-alpha/errno.h	2004-08-31 10:10:11.466082943 +0100
@@ -110,5 +110,9 @@
 
 #define ENOMEDIUM	129	/* No medium found */
 #define EMEDIUMTYPE	130	/* Wrong medium type */
+#define	ENOKEY		131	/* Required key not available */
+#define	EKEYEXPIRED	132	/* Key has expired */
+#define	EKEYREVOKED	133	/* Key has been revoked */
+#define	EKEYREJECTED	134	/* Key was rejected by service */
 
 #endif
diff -uNrp linux-2.6.8.1-mm4-keys/include/asm-mips/errno.h linux-2.6.8.1-mm4-keys-read/include/asm-mips/errno.h
--- linux-2.6.8.1-mm4-keys/include/asm-mips/errno.h	2004-06-18 13:42:12.000000000 +0100
+++ linux-2.6.8.1-mm4-keys-read/include/asm-mips/errno.h	2004-08-31 10:12:16.492662321 +0100
@@ -110,6 +110,10 @@
  */
 #define ENOMEDIUM	159	/* No medium found */
 #define EMEDIUMTYPE	160	/* Wrong medium type */
+#define	ENOKEY		161	/* Required key not available */
+#define	EKEYEXPIRED	162	/* Key has expired */
+#define	EKEYREVOKED	163	/* Key has been revoked */
+#define	EKEYREJECTED	164	/* Key was rejected by service */
 
 #define EDQUOT		1133	/* Quota exceeded */
 
diff -uNrp linux-2.6.8.1-mm4-keys/include/asm-parisc/errno.h linux-2.6.8.1-mm4-keys-read/include/asm-parisc/errno.h
--- linux-2.6.8.1-mm4-keys/include/asm-parisc/errno.h	2004-06-18 13:42:13.000000000 +0100
+++ linux-2.6.8.1-mm4-keys-read/include/asm-parisc/errno.h	2004-08-31 10:11:51.478747181 +0100
@@ -67,6 +67,10 @@
 #define	EREMOTEIO	181	/* Remote I/O error */
 #define	ENOMEDIUM	182	/* No medium found */
 #define	EMEDIUMTYPE	183	/* Wrong medium type */
+#define	ENOKEY		184	/* Required key not available */
+#define	EKEYEXPIRED	185	/* Key has expired */
+#define	EKEYREVOKED	186	/* Key has been revoked */
+#define	EKEYREJECTED	187	/* Key was rejected by service */
 
 /* We now return you to your regularly scheduled HPUX. */
 
diff -uNrp linux-2.6.8.1-mm4-keys/include/asm-sparc/errno.h linux-2.6.8.1-mm4-keys-read/include/asm-sparc/errno.h
--- linux-2.6.8.1-mm4-keys/include/asm-sparc/errno.h	2004-06-18 13:42:21.000000000 +0100
+++ linux-2.6.8.1-mm4-keys-read/include/asm-sparc/errno.h	2004-08-31 10:10:55.134443332 +0100
@@ -101,5 +101,9 @@
 
 #define	ENOMEDIUM	125	/* No medium found */
 #define	EMEDIUMTYPE	126	/* Wrong medium type */
+#define	ENOKEY		127	/* Required key not available */
+#define	EKEYEXPIRED	128	/* Key has expired */
+#define	EKEYREVOKED	129	/* Key has been revoked */
+#define	EKEYREJECTED	130	/* Key was rejected by service */
 
 #endif
diff -uNrp linux-2.6.8.1-mm4-keys/include/asm-sparc64/errno.h linux-2.6.8.1-mm4-keys-read/include/asm-sparc64/errno.h
--- linux-2.6.8.1-mm4-keys/include/asm-sparc64/errno.h	2004-06-18 13:42:22.000000000 +0100
+++ linux-2.6.8.1-mm4-keys-read/include/asm-sparc64/errno.h	2004-08-31 10:09:36.730977977 +0100
@@ -101,5 +101,9 @@
 
 #define ENOMEDIUM       125     /* No medium found */
 #define EMEDIUMTYPE     126     /* Wrong medium type */
+#define	ENOKEY		127	/* Required key not available */
+#define	EKEYEXPIRED	128	/* Key has expired */
+#define	EKEYREVOKED	129	/* Key has been revoked */
+#define	EKEYREJECTED	130	/* Key was rejected by service */
 
 #endif /* !(_SPARC64_ERRNO_H) */
