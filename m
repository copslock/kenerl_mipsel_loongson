Return-Path: <SRS0=SfrM=P7=vger.kernel.org=linux-mips-owner@kernel.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	aws-us-west-2-korg-lkml-1.web.codeaurora.org
X-Spam-Level: 
X-Spam-Status: No, score=-3.2 required=3.0 tests=DATE_IN_FUTURE_06_12,
	HEADER_FROM_DIFFERENT_DOMAINS,INCLUDES_PATCH,MAILING_LIST_MULTI,
	RCVD_DOUBLE_IP_LOOSE,SIGNED_OFF_BY,SPF_PASS,UNWANTED_LANGUAGE_BODY
	autolearn=unavailable autolearn_force=no version=3.4.0
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
	by smtp.lore.kernel.org (Postfix) with ESMTP id 0A2F1C282C5
	for <linux-mips@archiver.kernel.org>; Wed, 23 Jan 2019 17:04:13 +0000 (UTC)
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.kernel.org (Postfix) with ESMTP id CBD1B21855
	for <linux-mips@archiver.kernel.org>; Wed, 23 Jan 2019 17:04:12 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1725896AbfAWREM (ORCPT <rfc822;linux-mips@archiver.kernel.org>);
        Wed, 23 Jan 2019 12:04:12 -0500
Received: from [182.148.157.197] ([182.148.157.197]:34588 "HELO eyou.net"
        rhost-flags-FAIL-FAIL-OK-FAIL) by vger.kernel.org with SMTP
        id S1725994AbfAWREL (ORCPT <rfc822;linux-mips@vger.kernel.org>);
        Wed, 23 Jan 2019 12:04:11 -0500
X-EYOU-SPAMVALUE: 0
X-EMDG-ORIGINAL-FROM: <zhouyanjie@cduestc.edu.cn>
X-EMDG-ORIGINAL-TO: <linux-mips@vger.kernel.org>
X-EMDG-ORIGINAL-IP: 125.71.5.39
X-EMDG-VER: 4.1.1
X-EMDG-ABROAD: no
Received: (eyou anti_spam gateway 4.1.0); Thu, 24 Jan 2019 01:04:38 +0800
X-EMDG-MID: <748263078.28197@eyou.net>
Received: from 125.71.5.39 by 182.148.157.197 with SMTP; Thu, 24 Jan 2019 01:04:38 +0800
Received: from localhost ([127.0.0.1]) 
        by cduestc.cn with sendmail id 649d5605120bee4f8068c59179a34600;
        Thu, 24 Jan 2019 09:09:13 +0800
Date:   Thu, 24 Jan 2019 09:09:13 +0800
From:   "Zhou Yanjie" <zhouyanjie@cduestc.edu.cn>
Subject: =?UTF-8?B?W1BBVENIIDMvNF0gUGluY3RybDogSW5nZW5pYzogVW5pZnk=?=
 =?UTF-8?B?IHRoZSBmdW5jdGlvbiBuYW1lIHByZWZpeCB0byAgImluZ2VuaWNfZ3A=?=
 =?UTF-8?B?aW9fIi4=?=
To:     "linus.walleij" <linus.walleij@linaro.org>
Cc:     "linux-gpio" <linux-gpio@vger.kernel.org>,
        "linux-kernel" <linux-kernel@vger.kernel.org>,
        "linux-mips" <linux-mips@vger.kernel.org>,
        "paul" <paul@crapouillou.net>, "syq" <syq@debian.org>,
        "jiaxun.yang" <jiaxun.yang@flygoat.com>
Message-Id: <190124090913361712002288@cduestc.edu.cn>
MIME-Version: 1.0
X-Mailer: eYou WebMail 8.13.6
X-Eyou-Client: 171.221.112.138
X-Eyou-Is-Onercpt: 0
Content-Type: text/plain;
 charset="UTF-8"
Content-Transfer-Encoding: base64
X-Eyou-Sender: <zhouyanjie@cduestc.edu.cn>
Sender: linux-mips-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-mips.vger.kernel.org>
X-Mailing-List: linux-mips@vger.kernel.org

RnJvbTogWmhvdSBZYW5qaWUgPHpob3V5YW5qaWVAY2R1ZXN0Yy5lZHUuY24+CgpJbiB0
aGUgb3JpZ2luYWwgY29kZSwgc29tZSBmdW5jdGlvbiBuYW1lcyBiZWdpbiB3aXRoICJp
bmdlbmljX2dwaW9fIiwKYW5kIHNvbWUgd2l0aCAiZ3Bpb19pbmdlbmljXyIuIEZvciB0
aGUgc2FrZSBvZiB1bmlmb3JtIHN0eWxlLAphbGwgb2YgdGhlbSBhcmUgY2hhbmdlZCB0
byB0aGUgYmVnaW5uaW5nIG9mICJpbmdlbmljX2dwaW9fIi4KClNpZ25lZC1vZmYtYnk6
IFpob3UgWWFuamllIDx6aG91eWFuamllQGNkdWVzdGMuZWR1LmNuPgotLS0KIGRyaXZl
cnMvcGluY3RybC9waW5jdHJsLWluZ2VuaWMuYyB8IDQ2ICsrKysrKysrKysrKysrKysr
KystLS0tLS0tLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDIzIGluc2VydGlv
bnMoKyksIDIzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvcGluY3Ry
bC9waW5jdHJsLWluZ2VuaWMuYyBiL2RyaXZlcnMvcGluY3RybC9waW5jdHJsLWluZ2Vu
aWMuYwppbmRleCA2NTAxZjM1Li4yYjNmN2U0IDEwMDY0NAotLS0gYS9kcml2ZXJzL3Bp
bmN0cmwvcGluY3RybC1pbmdlbmljLmMKKysrIGIvZHJpdmVycy9waW5jdHJsL3BpbmN0
cmwtaW5nZW5pYy5jCkBAIC03MTUsNyArNzE1LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVj
dCBpbmdlbmljX2NoaXBfaW5mbyBqejQ3ODBfY2hpcF9pbmZvID0gewogCS5wdWxsX2Rv
d25zID0gano0NzcwX3B1bGxfZG93bnMsCiB9OwogCi1zdGF0aWMgdTMyIGdwaW9faW5n
ZW5pY19yZWFkX3JlZyhzdHJ1Y3QgaW5nZW5pY19ncGlvX2NoaXAgKmp6Z2MsIHU4IHJl
ZykKK3N0YXRpYyB1MzIgaW5nZW5pY19ncGlvX3JlYWRfcmVnKHN0cnVjdCBpbmdlbmlj
X2dwaW9fY2hpcCAqanpnYywgdTggcmVnKQogewogCXVuc2lnbmVkIGludCB2YWw7CiAK
QEAgLTcyNCw3ICs3MjQsNyBAQCBzdGF0aWMgdTMyIGdwaW9faW5nZW5pY19yZWFkX3Jl
ZyhzdHJ1Y3QgaW5nZW5pY19ncGlvX2NoaXAgKmp6Z2MsIHU4IHJlZykKIAlyZXR1cm4g
KHUzMikgdmFsOwogfQogCi1zdGF0aWMgdm9pZCBncGlvX2luZ2VuaWNfc2V0X2JpdChz
dHJ1Y3QgaW5nZW5pY19ncGlvX2NoaXAgKmp6Z2MsCitzdGF0aWMgdm9pZCBpbmdlbmlj
X2dwaW9fc2V0X2JpdChzdHJ1Y3QgaW5nZW5pY19ncGlvX2NoaXAgKmp6Z2MsCiAJCXU4
IHJlZywgdTggb2Zmc2V0LCBib29sIHNldCkKIHsKIAlpZiAoc2V0KQpAQCAtNzM4LDcg
KzczOCw3IEBAIHN0YXRpYyB2b2lkIGdwaW9faW5nZW5pY19zZXRfYml0KHN0cnVjdCBp
bmdlbmljX2dwaW9fY2hpcCAqanpnYywKIHN0YXRpYyBpbmxpbmUgYm9vbCBpbmdlbmlj
X2dwaW9fZ2V0X3ZhbHVlKHN0cnVjdCBpbmdlbmljX2dwaW9fY2hpcCAqanpnYywKIAkJ
CQkJICB1OCBvZmZzZXQpCiB7Ci0JdW5zaWduZWQgaW50IHZhbCA9IGdwaW9faW5nZW5p
Y19yZWFkX3JlZyhqemdjLCBHUElPX1BJTik7CisJdW5zaWduZWQgaW50IHZhbCA9IGlu
Z2VuaWNfZ3Bpb19yZWFkX3JlZyhqemdjLCBHUElPX1BJTik7CiAKIAlyZXR1cm4gISEo
dmFsICYgQklUKG9mZnNldCkpOwogfQpAQCAtNzQ3LDkgKzc0Nyw5IEBAIHN0YXRpYyB2
b2lkIGluZ2VuaWNfZ3Bpb19zZXRfdmFsdWUoc3RydWN0IGluZ2VuaWNfZ3Bpb19jaGlw
ICpqemdjLAogCQkJCSAgIHU4IG9mZnNldCwgaW50IHZhbHVlKQogewogCWlmIChqemdj
LT5qenBjLT52ZXJzaW9uID49IElEX0paNDc3MCkKLQkJZ3Bpb19pbmdlbmljX3NldF9i
aXQoanpnYywgSlo0NzcwX0dQSU9fUEFUMCwgb2Zmc2V0LCAhIXZhbHVlKTsKKwkJaW5n
ZW5pY19ncGlvX3NldF9iaXQoanpnYywgSlo0NzcwX0dQSU9fUEFUMCwgb2Zmc2V0LCAh
IXZhbHVlKTsKIAllbHNlCi0JCWdwaW9faW5nZW5pY19zZXRfYml0KGp6Z2MsIEpaNDc0
MF9HUElPX0RBVEEsIG9mZnNldCwgISF2YWx1ZSk7CisJCWluZ2VuaWNfZ3Bpb19zZXRf
Yml0KGp6Z2MsIEpaNDc0MF9HUElPX0RBVEEsIG9mZnNldCwgISF2YWx1ZSk7CiB9CiAK
IHN0YXRpYyB2b2lkIGlycV9zZXRfdHlwZShzdHJ1Y3QgaW5nZW5pY19ncGlvX2NoaXAg
Kmp6Z2MsCkBAIC03NjcsMjEgKzc2NywyMSBAQCBzdGF0aWMgdm9pZCBpcnFfc2V0X3R5
cGUoc3RydWN0IGluZ2VuaWNfZ3Bpb19jaGlwICpqemdjLAogCiAJc3dpdGNoICh0eXBl
KSB7CiAJY2FzZSBJUlFfVFlQRV9FREdFX1JJU0lORzoKLQkJZ3Bpb19pbmdlbmljX3Nl
dF9iaXQoanpnYywgcmVnMiwgb2Zmc2V0LCB0cnVlKTsKLQkJZ3Bpb19pbmdlbmljX3Nl
dF9iaXQoanpnYywgcmVnMSwgb2Zmc2V0LCB0cnVlKTsKKwkJaW5nZW5pY19ncGlvX3Nl
dF9iaXQoanpnYywgcmVnMiwgb2Zmc2V0LCB0cnVlKTsKKwkJaW5nZW5pY19ncGlvX3Nl
dF9iaXQoanpnYywgcmVnMSwgb2Zmc2V0LCB0cnVlKTsKIAkJYnJlYWs7CiAJY2FzZSBJ
UlFfVFlQRV9FREdFX0ZBTExJTkc6Ci0JCWdwaW9faW5nZW5pY19zZXRfYml0KGp6Z2Ms
IHJlZzIsIG9mZnNldCwgZmFsc2UpOwotCQlncGlvX2luZ2VuaWNfc2V0X2JpdChqemdj
LCByZWcxLCBvZmZzZXQsIHRydWUpOworCQlpbmdlbmljX2dwaW9fc2V0X2JpdChqemdj
LCByZWcyLCBvZmZzZXQsIGZhbHNlKTsKKwkJaW5nZW5pY19ncGlvX3NldF9iaXQoanpn
YywgcmVnMSwgb2Zmc2V0LCB0cnVlKTsKIAkJYnJlYWs7CiAJY2FzZSBJUlFfVFlQRV9M
RVZFTF9ISUdIOgotCQlncGlvX2luZ2VuaWNfc2V0X2JpdChqemdjLCByZWcyLCBvZmZz
ZXQsIHRydWUpOwotCQlncGlvX2luZ2VuaWNfc2V0X2JpdChqemdjLCByZWcxLCBvZmZz
ZXQsIGZhbHNlKTsKKwkJaW5nZW5pY19ncGlvX3NldF9iaXQoanpnYywgcmVnMiwgb2Zm
c2V0LCB0cnVlKTsKKwkJaW5nZW5pY19ncGlvX3NldF9iaXQoanpnYywgcmVnMSwgb2Zm
c2V0LCBmYWxzZSk7CiAJCWJyZWFrOwogCWNhc2UgSVJRX1RZUEVfTEVWRUxfTE9XOgog
CWRlZmF1bHQ6Ci0JCWdwaW9faW5nZW5pY19zZXRfYml0KGp6Z2MsIHJlZzIsIG9mZnNl
dCwgZmFsc2UpOwotCQlncGlvX2luZ2VuaWNfc2V0X2JpdChqemdjLCByZWcxLCBvZmZz
ZXQsIGZhbHNlKTsKKwkJaW5nZW5pY19ncGlvX3NldF9iaXQoanpnYywgcmVnMiwgb2Zm
c2V0LCBmYWxzZSk7CisJCWluZ2VuaWNfZ3Bpb19zZXRfYml0KGp6Z2MsIHJlZzEsIG9m
ZnNldCwgZmFsc2UpOwogCQlicmVhazsKIAl9CiB9CkBAIC03OTEsNyArNzkxLDcgQEAg
c3RhdGljIHZvaWQgaW5nZW5pY19ncGlvX2lycV9tYXNrKHN0cnVjdCBpcnFfZGF0YSAq
aXJxZCkKIAlzdHJ1Y3QgZ3Bpb19jaGlwICpnYyA9IGlycV9kYXRhX2dldF9pcnFfY2hp
cF9kYXRhKGlycWQpOwogCXN0cnVjdCBpbmdlbmljX2dwaW9fY2hpcCAqanpnYyA9IGdw
aW9jaGlwX2dldF9kYXRhKGdjKTsKIAotCWdwaW9faW5nZW5pY19zZXRfYml0KGp6Z2Ms
IEdQSU9fTVNLLCBpcnFkLT5od2lycSwgdHJ1ZSk7CisJaW5nZW5pY19ncGlvX3NldF9i
aXQoanpnYywgR1BJT19NU0ssIGlycWQtPmh3aXJxLCB0cnVlKTsKIH0KIAogc3RhdGlj
IHZvaWQgaW5nZW5pY19ncGlvX2lycV91bm1hc2soc3RydWN0IGlycV9kYXRhICppcnFk
KQpAQCAtNzk5LDcgKzc5OSw3IEBAIHN0YXRpYyB2b2lkIGluZ2VuaWNfZ3Bpb19pcnFf
dW5tYXNrKHN0cnVjdCBpcnFfZGF0YSAqaXJxZCkKIAlzdHJ1Y3QgZ3Bpb19jaGlwICpn
YyA9IGlycV9kYXRhX2dldF9pcnFfY2hpcF9kYXRhKGlycWQpOwogCXN0cnVjdCBpbmdl
bmljX2dwaW9fY2hpcCAqanpnYyA9IGdwaW9jaGlwX2dldF9kYXRhKGdjKTsKIAotCWdw
aW9faW5nZW5pY19zZXRfYml0KGp6Z2MsIEdQSU9fTVNLLCBpcnFkLT5od2lycSwgZmFs
c2UpOworCWluZ2VuaWNfZ3Bpb19zZXRfYml0KGp6Z2MsIEdQSU9fTVNLLCBpcnFkLT5o
d2lycSwgZmFsc2UpOwogfQogCiBzdGF0aWMgdm9pZCBpbmdlbmljX2dwaW9faXJxX2Vu
YWJsZShzdHJ1Y3QgaXJxX2RhdGEgKmlycWQpCkBAIC04MDksOSArODA5LDkgQEAgc3Rh
dGljIHZvaWQgaW5nZW5pY19ncGlvX2lycV9lbmFibGUoc3RydWN0IGlycV9kYXRhICpp
cnFkKQogCWludCBpcnEgPSBpcnFkLT5od2lycTsKIAogCWlmIChqemdjLT5qenBjLT52
ZXJzaW9uID49IElEX0paNDc3MCkKLQkJZ3Bpb19pbmdlbmljX3NldF9iaXQoanpnYywg
Slo0NzcwX0dQSU9fSU5ULCBpcnEsIHRydWUpOworCQlpbmdlbmljX2dwaW9fc2V0X2Jp
dChqemdjLCBKWjQ3NzBfR1BJT19JTlQsIGlycSwgdHJ1ZSk7CiAJZWxzZQotCQlncGlv
X2luZ2VuaWNfc2V0X2JpdChqemdjLCBKWjQ3NDBfR1BJT19TRUxFQ1QsIGlycSwgdHJ1
ZSk7CisJCWluZ2VuaWNfZ3Bpb19zZXRfYml0KGp6Z2MsIEpaNDc0MF9HUElPX1NFTEVD
VCwgaXJxLCB0cnVlKTsKIAogCWluZ2VuaWNfZ3Bpb19pcnFfdW5tYXNrKGlycWQpOwog
fQpAQCAtODI1LDkgKzgyNSw5IEBAIHN0YXRpYyB2b2lkIGluZ2VuaWNfZ3Bpb19pcnFf
ZGlzYWJsZShzdHJ1Y3QgaXJxX2RhdGEgKmlycWQpCiAJaW5nZW5pY19ncGlvX2lycV9t
YXNrKGlycWQpOwogCiAJaWYgKGp6Z2MtPmp6cGMtPnZlcnNpb24gPj0gSURfSlo0Nzcw
KQotCQlncGlvX2luZ2VuaWNfc2V0X2JpdChqemdjLCBKWjQ3NzBfR1BJT19JTlQsIGly
cSwgZmFsc2UpOworCQlpbmdlbmljX2dwaW9fc2V0X2JpdChqemdjLCBKWjQ3NzBfR1BJ
T19JTlQsIGlycSwgZmFsc2UpOwogCWVsc2UKLQkJZ3Bpb19pbmdlbmljX3NldF9iaXQo
anpnYywgSlo0NzQwX0dQSU9fU0VMRUNULCBpcnEsIGZhbHNlKTsKKwkJaW5nZW5pY19n
cGlvX3NldF9iaXQoanpnYywgSlo0NzQwX0dQSU9fU0VMRUNULCBpcnEsIGZhbHNlKTsK
IH0KIAogc3RhdGljIHZvaWQgaW5nZW5pY19ncGlvX2lycV9hY2soc3RydWN0IGlycV9k
YXRhICppcnFkKQpAQCAtODUwLDkgKzg1MCw5IEBAIHN0YXRpYyB2b2lkIGluZ2VuaWNf
Z3Bpb19pcnFfYWNrKHN0cnVjdCBpcnFfZGF0YSAqaXJxZCkKIAl9CiAKIAlpZiAoanpn
Yy0+anpwYy0+dmVyc2lvbiA+PSBJRF9KWjQ3NzApCi0JCWdwaW9faW5nZW5pY19zZXRf
Yml0KGp6Z2MsIEpaNDc3MF9HUElPX0ZMQUcsIGlycSwgZmFsc2UpOworCQlpbmdlbmlj
X2dwaW9fc2V0X2JpdChqemdjLCBKWjQ3NzBfR1BJT19GTEFHLCBpcnEsIGZhbHNlKTsK
IAllbHNlCi0JCWdwaW9faW5nZW5pY19zZXRfYml0KGp6Z2MsIEpaNDc0MF9HUElPX0RB
VEEsIGlycSwgdHJ1ZSk7CisJCWluZ2VuaWNfZ3Bpb19zZXRfYml0KGp6Z2MsIEpaNDc0
MF9HUElPX0RBVEEsIGlycSwgdHJ1ZSk7CiB9CiAKIHN0YXRpYyBpbnQgaW5nZW5pY19n
cGlvX2lycV9zZXRfdHlwZShzdHJ1Y3QgaXJxX2RhdGEgKmlycWQsIHVuc2lnbmVkIGlu
dCB0eXBlKQpAQCAtOTA3LDkgKzkwNyw5IEBAIHN0YXRpYyB2b2lkIGluZ2VuaWNfZ3Bp
b19pcnFfaGFuZGxlcihzdHJ1Y3QgaXJxX2Rlc2MgKmRlc2MpCiAJY2hhaW5lZF9pcnFf
ZW50ZXIoaXJxX2NoaXAsIGRlc2MpOwogCiAJaWYgKGp6Z2MtPmp6cGMtPnZlcnNpb24g
Pj0gSURfSlo0NzcwKQotCQlmbGFnID0gZ3Bpb19pbmdlbmljX3JlYWRfcmVnKGp6Z2Ms
IEpaNDc3MF9HUElPX0ZMQUcpOworCQlmbGFnID0gaW5nZW5pY19ncGlvX3JlYWRfcmVn
KGp6Z2MsIEpaNDc3MF9HUElPX0ZMQUcpOwogCWVsc2UKLQkJZmxhZyA9IGdwaW9faW5n
ZW5pY19yZWFkX3JlZyhqemdjLCBKWjQ3NDBfR1BJT19GTEFHKTsKKwkJZmxhZyA9IGlu
Z2VuaWNfZ3Bpb19yZWFkX3JlZyhqemdjLCBKWjQ3NDBfR1BJT19GTEFHKTsKIAogCWZv
cl9lYWNoX3NldF9iaXQoaSwgJmZsYWcsIDMyKQogCQlnZW5lcmljX2hhbmRsZV9pcnEo
aXJxX2xpbmVhcl9yZXZtYXAoZ2MtPmlycS5kb21haW4sIGkpKTsKLS0gCjIuNy40Cg==

