Received:  by oss.sgi.com id <S553765AbRCEDkg>;
	Sun, 4 Mar 2001 19:40:36 -0800
Received: from agile-50.OntheNet.com.au ([203.144.13.50]:38150 "EHLO
        surfers.oz.agile.tv") by oss.sgi.com with ESMTP id <S553652AbRCEDkM>;
	Sun, 4 Mar 2001 19:40:12 -0800
Received: from agile.tv (IDENT:ldavies@tugun.oz.agile.tv [192.168.16.20])
	by surfers.oz.agile.tv (8.11.0/8.11.0) with ESMTP id f253e1O16740;
	Mon, 5 Mar 2001 13:40:01 +1000
Message-ID: <3AA30A91.B5842678@agile.tv>
Date:   Mon, 05 Mar 2001 13:40:01 +1000
From:   Liam Davies <ldavies@agile.tv>
Reply-To: ldavies@oz.agile.tv
Organization: Agile TV
X-Mailer: Mozilla 4.75 [en] (X11; U; Linux 2.2.16-22 i686)
X-Accept-Language: en
MIME-Version: 1.0
To:     linux-mips@oss.sgi.com
Subject: Troubles with TLB refills
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-linux-mips@oss.sgi.com
Precedence: bulk
Return-Path: <owner-linux-mips@oss.sgi.com>
X-Orcpt: rfc822;linux-mips-outgoing

I am trying to get the 2.4 kernel up and running on the Cobalt boxes.
At the moment I am trying to get the initial transition from kernel
to user mode working.

The elf loader is trying to put stuff in the stack for the new user
process and *each* call to NEW_AUX_ENTRY is generating a page fault
that cannot be resolved. The address generated by the BadVAddr on the
TLBS exception is not correct. Also, I never receive a TLBrefill
exception on the accesses. It is using the except_vec0_nevada handler.

All that I can think of is that the handler at 0x80000000 is getting
smashed after it is copied in -- ala troubles with _kd_mksound last
year.
Any ideas on what is happening?? how to fix it??


Thanks
Liam


elf_entry=4000b0
elf_bss=10010130
elf_brk=10010130
start_code=400000
end_code =400130
start_data=10010130
end_data =10010130

[sh:1:10004f4c:1:8005f504]
Dump TLB all:

Dump TLB wired:
Wired: 0
Dump TLB address 10004f4c :
No entry for address 0x10004f4c in TLB

vma: start=10010000
vma: flags=    1873
Bad_Area:
no_context:
