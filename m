Received: with ECARTIS (v1.0.0; list linux-mips); Thu, 07 Apr 2005 20:03:50 +0100 (BST)
Received: from web40905.mail.yahoo.com ([IPv6:::ffff:66.218.78.202]:22028 "HELO
	web40905.mail.yahoo.com") by linux-mips.org with SMTP
	id <S8225305AbVDGTDf>; Thu, 7 Apr 2005 20:03:35 +0100
Received: (qmail 21694 invoked by uid 60001); 7 Apr 2005 19:03:27 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=a0LxqSVcIxSjTacrbu528GI8Smc6vxUU5Z4v1end/4D8i3ongWZvgVxfpYqnipMM0uSG9B+QWhfKMaTyADeISLnFmCkR1nC7d4PK5HnGq2j8mCKQ8HhbqyuVo/uTS8SiqvFGy3TxNmoFavG8eSv74CtSMBt1FE2Rwgfm50vfMuU=  ;
Message-ID: <20050407190327.21692.qmail@web40905.mail.yahoo.com>
Received: from [65.205.244.66] by web40905.mail.yahoo.com via HTTP; Thu, 07 Apr 2005 12:03:27 PDT
Date:	Thu, 7 Apr 2005 12:03:27 -0700 (PDT)
From:	Brian Kuschak <bkuschak@yahoo.com>
Subject: Re: gdb backtrace with core files
To:	Greg Weeks <greg.weeks@timesys.com>
Cc:	linux-mips@linux-mips.org
In-Reply-To: 6667
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Return-Path: <bkuschak@yahoo.com>
X-Envelope-To: <"|/home/ecartis/ecartis -s linux-mips"> (uid 0)
X-Orcpt: rfc822;linux-mips@linux-mips.org
Original-Recipient: rfc822;linux-mips@linux-mips.org
X-archive-position: 7641
X-ecartis-version: Ecartis v1.0.0
Sender: linux-mips-bounce@linux-mips.org
Errors-to: linux-mips-bounce@linux-mips.org
X-original-sender: bkuschak@yahoo.com
Precedence: bulk
X-list: linux-mips

Greg,

Is your GDB hosted on MIPS or another machine?  Are
those patches freely available?  If so, can you
provide a link?  Google seems to find mostly kgdb
patches - are these what you used?

Brian

--- Greg Weeks <greg.weeks@timesys.com> wrote:
> Brian Kuschak wrote:
> 
> >Is anyone succesfully using gdb for mipsel to debug
> >core dumps?  If so, can you share your secrets for
> >success?  I tried various recent versions (6.3,
> >6.1.1), but backtrace never works right, even
> though
> >the stack pointer appears to be valid.  gdb-5.3
> >partially works, but not completely.  
> >
> >Forcing gdb to use a specific stack pointer and PC
> >(frame <sp> <pc>) doesn't seem to help either.  
> >
> >Using linux 2.4.25 and gcc 3.3.3.
> >
> >  
> >
> It appears to work for me. My gdb has a ton of
> patches from Amit Kale 
> though. The kernel is the latest malta with a couple
> of patches that 
> shouldn't affect gdb.
> 
> -bash-2.05b# gdb
> GNU gdb TimeSys Linux (6.2.1-1rh)
> Copyright 2004 Free Software Foundation, Inc.
> GDB is free software, covered by the GNU General
> Public License, and you are
> welcome to change it and/or distribute copies of it
> under certain 
> conditions.
> Type "show copying" to see the conditions.
> There is absolutely no warranty for GDB.  Type "show
> warranty" for details.
> This GDB was configured as "mipsel-linux".
> (gdb) file gdb_core_tester
> Reading symbols from 
>
/root/TestWare/TTS_2.4.2/command/gdb_man/gdb_core_tester...done.
> Using host libthread_db library
> "/lib/libthread_db.so.1".
> (gdb) core-file core.2045
> Core was generated by `./gdb_core_tester'.
> Program terminated with signal 11, Segmentation
> fault.
> Reading symbols from /usr/lib/libgcc_s.so.1...done.
> Loaded symbols for /usr/lib/libgcc_s.so.1
> Reading symbols from /lib/libc.so.6...done.
> Loaded symbols for /lib/libc.so.6
> Reading symbols from /lib/ld.so.1...done.
> Loaded symbols for /lib/ld.so.1
> #0  0x00400f48 in add_node (rootptr=0x1000105c,
> nodeval=193)
>     at create_core.c:75
> 75              if(node_ptr->value.value >= nodeval)
> {
> (gdb) bt
> #0  0x00400f48 in add_node (rootptr=0x1000105c,
> nodeval=193)
>     at create_core.c:75
> #1  0x00400fcc in add_node (rootptr=0x10001048,
> nodeval=193)
>     at create_core.c:81
> #2  0x00400f74 in add_node (rootptr=0x10000140,
> nodeval=193)
>     at create_core.c:76
> #3  0x00400df8 in create_tree (rootptr=0x10000140)
> at create_core.c:38
> #4  0x00400b4c in main (argc=1, argv=0x7f931b44) at
> main.c:25
> 
> Greg Weeks
> 


		
__________________________________ 
Do you Yahoo!? 
Make Yahoo! your home page 
http://www.yahoo.com/r/hs
