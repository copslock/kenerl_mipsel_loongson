Received: with ECARTIS (v1.0.0; list linux-mips); Wed, 20 Aug 2003 01:15:35 +0100 (BST)
Received: from dns1.atmark-techno.com ([IPv6:::ffff:61.199.192.114]:9223 "EHLO
	dns1.atmark-techno.com") by linux-mips.org with ESMTP
	id <S8225316AbTHTAPd>; Wed, 20 Aug 2003 01:15:33 +0100
Received: from wat.atmark-techno.com (unknown [192.168.10.81])
	by dns1.atmark-techno.com (Postfix) with ESMTP
	id 0CEC33E614; Wed, 20 Aug 2003 09:15:30 +0900 (JST)
Date: Wed, 20 Aug 2003 09:15:30 +0900
From: Yasushi SHOJI <Yasushi.SHOJI@atmark-techno.com>
To: Pete Popov <ppopov@mvista.com>
Cc: Linux MIPS mailing list <linux-mips@linux-mips.org>
Subject: Re: GPIO support for db1100
In-Reply-To: <1061338072.1488.642.camel@zeus.mvista.com>
References: <20030819015408.312713E614@dns1.atmark-techno.com>
	<1061309193.1488.450.camel@zeus.mvista.com>
	<20030820000223.8D1233E614@dns1.atmark-techno.com>
	<1061338072.1488.642.camel@zeus.mvista.com>
User-Agent: User-Agent: Wanderlust/2.10.1
MIME-Version: 1.0 (generated by SEMI 1.14.5 - "Awara-Onsen")
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20030820001531.0CEC33E614@dns1.atmark-techno.com>
Return-Path: <Yasushi.SHOJI@atmark-techno.com>
X-Envelope-To: <"|/home/ecartis/ecartis -s linux-mips"> (uid 0)
X-Orcpt: rfc822;linux-mips@linux-mips.org
Original-Recipient: rfc822;linux-mips@linux-mips.org
X-archive-position: 3078
X-ecartis-version: Ecartis v1.0.0
Sender: linux-mips-bounce@linux-mips.org
Errors-to: linux-mips-bounce@linux-mips.org
X-original-sender: Yasushi.SHOJI@atmark-techno.com
Precedence: bulk
X-list: linux-mips

At 19 Aug 2003 17:07:52 -0700,
Pete Popov wrote:
> 
> On Tue, 2003-08-19 at 17:02, Yasushi SHOJI wrote:
> > At 19 Aug 2003 09:06:33 -0700,
> > Pete Popov wrote:
> > > 
> > > On Mon, 2003-08-18 at 18:54, Yasushi SHOJI wrote:
> > > > Steve and all,
> > > > 
> > > > I'd like to add gpio support to db1100 and/or au1100.
> > > > 
> > > > since there already is au1000_gpio.c in driver/char, should I go
> > > > fixing and renaming au1000_gpio.c to au1x00_gpio.c or create
> > > > au1100_gpio.c and asm-mips/au1100_gpio.h?
> > > 
> > > Why do you need to rename the file? The only way to do that with cvs is
> > > to delete it and add the new file, and then you lose all cvs log info.
> > > It would have been nice to have named the file au1x00_gpio instead of
> > > au1000_gpio, but I don't think that's critical to using the driver.
> > 
> > I agree that file name is not critial at all.
> > 
> > so should I go with ifdef's to add au1100's primary and secondary gpio
> > support in au1000_gpio.c?
> > 
> > yes, even with primary gpio, pin assign differ between au1000 and
> > au1100. that means avail_mask in struct pinfuc_to_avail must change,
> > IMHO.
> 
> Well, if there's too many changes, then perhaps a new driver is in
> order. The secondary gpio on the au1100 and au1500 are similar, I think.
> Perhaps you can make the driver work on both CPUs :)?

I'll try. but don't have au1500 here. so I need someone to test it.
--
        yashi
